/* base */
*{box-sizing:border-box;margin:0;padding:0}
:root{
  /* colors */
  --cream:#faf9f6;
  --sage-10:#f2f6f3; --sage-50:#eef4f1; --sage-100:#dce9e2; --sage-300:#c6dccf; --sage-700:#2e4b40;
  --fg:#1f2d28; --muted:#5a6b64;

  /* layout + type knobs */
  --gap:clamp(16px,4vw,40px);
  --nav-h:72px;
  --hero-name-min:3rem;
  --hero-name-vw:8vw;
  --hero-name-max:6rem;
  --hero-blurb-min:1rem;
  --hero-blurb-vw:2vw;
  --hero-blurb-max:1.25rem;

  /* bg tint + parallax */
  --bgx:0px; --bgy:0px; --sage-o:1;

  /* card look */
  --card-bg:rgba(255,255,255,.85);
  --card-brd:1px solid rgba(95,143,124,.18);
  --card-r:16px;
  --card-pad:18px 22px;
  --card-shadow:0 18px 50px rgba(0,0,0,.08);
  --card-shadow-h:0 24px 60px rgba(0,0,0,.12);

  /* timeline rail */
  --rail-w:6px;
  --rail-c:rgba(95,143,124,.28);
  --rail-fill-grad:linear-gradient(180deg,rgba(95,143,124,.9),rgba(95,143,124,.35));

  /* ball */
  --ball-min:32vw;
  --ball-max:300px;
  --ball-left:clamp(-400px,-60vw,-80px);
}

html,body{height:100%}
html{scroll-behavior:smooth}
@media (prefers-reduced-motion:reduce){html{scroll-behavior:auto}}

body{
  font-family:Poppins,system-ui,sans-serif;
  color:var(--fg); background:var(--cream); isolation:isolate;
}
img,video{display:block;max-width:100%;height:auto}
.muted{color:var(--muted)}

/* soft site bg */
body::before{
  content:""; position:fixed; inset:0; z-index:-3;
  background:
    linear-gradient(180deg, rgba(95,143,124,.04), rgba(95,143,124,.025) 40%, rgba(95,143,124,.02) 100%),
    radial-gradient(140% 120% at calc(50% + var(--bgx)) calc(-20% + var(--bgy)), rgba(255,255,255,.85), rgba(255,255,255,.65) 50%, transparent 70%),
    var(--cream);
}
body::after{
  content:""; position:fixed; inset:0; z-index:-2; pointer-events:none; opacity:var(--sage-o);
  background:
    radial-gradient(1200px 560px at calc(50% + var(--bgx)) calc(-180px + var(--bgy)), rgba(95,143,124,.16), transparent 60%),
    radial-gradient(900px 420px at calc(80% + var(--bgx)) calc(-120px + var(--bgy)), rgba(95,143,124,.10), transparent 55%),
    linear-gradient(180deg, rgba(95,143,124,.08), rgba(95,143,124,.05) 40%, rgba(95,143,124,.03) 100%);
}
body.theme-cream{--sage-o:0}
body.rest-bg-off::before,body.rest-bg-off::after{opacity:0}
body.rest-bg-on::before,body.rest-bg-on::after{opacity:1;transition:opacity .5s ease}

/* nav */
.topnav{
  position:fixed; left:50%; top:22px; transform:translateX(-50%); z-index:10;
  display:flex; gap:32px; padding:16px 28px; border-radius:999px;
  background:rgba(255,255,255,.65); border:1px solid rgba(95,143,124,.20);
  backdrop-filter:saturate(140%) blur(12px); -webkit-backdrop-filter:saturate(140%) blur(12px);
  box-shadow:0 8px 36px rgba(95,143,124,.15);
}
.topnav a{
  color:var(--fg); text-decoration:none; font-weight:700; font-size:1rem;
  padding:8px 12px; border-radius:999px; line-height:1;
}
.topnav a:hover{background:rgba(95,143,124,.15);color:var(--sage-700)}
.topnav a:focus-visible{outline:2px solid rgba(95,143,124,.45); outline-offset:2px; background:rgba(95,143,124,.12)}

/* hero */
.hero{position:relative; color:var(--sage-700)}
.bgfx{position:fixed; inset:0; z-index:-1; pointer-events:none; display:block; contain:layout paint size}
.bgfx.hide{opacity:0; transition:opacity .55s ease}
.hero .hero-inner{
  display:grid; grid-template-columns:1fr; justify-items:center; text-align:center;
  gap:clamp(14px,2.2vw,24px); padding:18vh 16px 22vh; position:relative; z-index:1;
}
.name{
  font-weight:800; color:var(--sage-700);
  font-size:clamp(var(--hero-name-min),var(--hero-name-vw),var(--hero-name-max));
  line-height:1.05;
}
.blurb{
  color:#3a5248;
  font-size:clamp(var(--hero-blurb-min),var(--hero-blurb-vw),var(--hero-blurb-max));
}
.id-block{transform:translateY(var(--id-y,0)) scale(var(--id-scale,1)); opacity:var(--id-op,1); transition:transform .45s ease,opacity .45s ease}

/* sections */
.panel{position:relative; min-height:100svh; display:grid; align-items:center; padding:clamp(18px,3vw,28px); scroll-margin-top:var(--nav-h)}

/* about */
#about{min-height:120svh; padding-top:clamp(60px,10vh,140px); padding-bottom:clamp(60px,12vh,160px)}
.bio .bio-inner{
  display:grid; grid-template-columns:1.2fr .8fr; gap:var(--gap); align-items:start;
  max-width:1200px; margin:0 auto;
}
.bio-copy{max-width:60ch; transform:translateY(var(--bio-y,24px)); opacity:var(--bio-op,0)}
.bio-copy h2{font-size:clamp(1.4rem,3.2vw,2rem); margin-bottom:10px}
.bio-copy p{color:var(--muted); line-height:1.6}
.bio-title{font-size:clamp(2.2rem,6vw,4rem); font-weight:800; letter-spacing:.2px; margin-bottom:clamp(12px,1.6vw,16px); color:var(--sage-700)}
.lede{font-size:clamp(1.05rem,2.2vw,1.5rem); line-height:1.6; color:rgba(0,0,0,.66); max-width:70ch}
.bio-media{position:relative; justify-self:end; width:min(44vw,520px)}
.ball-wrap{position:absolute; left:var(--ball-left); bottom:0; z-index:2}
.basketball{width:min(var(--ball-min),var(--ball-max)); aspect-ratio:1; filter:drop-shadow(0 24px 60px rgba(0,0,0,.22))}
.reveal{opacity:0; transform:translateY(14px) scale(.985); transition:opacity .55s ease,transform .55s ease}
.reveal.in{opacity:1; transform:none}
.socials{display:flex; gap:18px; margin-top:clamp(18px,2vw,26px)}
.socials a{
  color:rgba(0,0,0,.55);
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:12px;
  background:rgba(95,143,124,.08); border:1px solid rgba(95,143,124,.18);
  transition:transform .12s ease,background .15s ease,color .15s ease;
}
.socials a:hover{transform:translateY(-2px); background:rgba(95,143,124,.14); color:var(--sage-700)}

/* work â€” milestone band */
.work{align-items:start}
#work .band{
  position:relative; max-width:1120px; width:min(96vw,1120px); margin:0 auto;
  padding:clamp(40px,6vw,80px) 0;
}
#work .band .rail{
  position:absolute; left:50%; top:0; bottom:0; transform:translateX(-50%);
  width:var(--rail-w); background:var(--rail-c); border-radius:calc(var(--rail-w)/2);
  box-shadow:0 2px 14px rgba(95,143,124,.12) inset;
}
#work .band .rail::after{
  content:""; position:absolute; left:0; top:0; width:100%; height:calc(var(--railP,0) * 100%);
  background:var(--rail-fill-grad); border-radius:inherit; box-shadow:0 6px 22px rgba(95,143,124,.18);
}
#work .milestones{position:relative; display:grid; gap:clamp(22px,2.8vw,32px); z-index:1}

#work .ms{
  display:grid;
  grid-template-columns:minmax(340px,1fr) var(--rail-w) minmax(340px,1fr);
  column-gap:clamp(40px,8vw,140px);
  align-items:center;
  opacity:0; transform:translateY(12px) scale(.985); transition:opacity .45s ease,transform .45s ease;
}
#work .ms.in{opacity:1; transform:none}

/* dot */
#work .ms .ms-dot, #work .ms .dot{
  grid-column:2; justify-self:center; width:14px; height:14px; border-radius:50%;
  background:#fff; border:2px solid rgba(95,143,124,.75);
  box-shadow:0 0 0 4px rgba(95,143,124,.22),0 8px 30px rgba(0,0,0,.18);
}

/* card */
#work .ms .ms-card, #work .ms .card{
  background:var(--card-bg); backdrop-filter:blur(6px);
  border:var(--card-brd); border-radius:var(--card-r); padding:var(--card-pad);
  box-shadow:var(--card-shadow); transition:transform .15s ease, box-shadow .2s ease; max-width:560px;
}
#work .ms .ms-card:hover, #work .ms .card:hover{transform:translateY(-2px) scale(1.01); box-shadow:var(--card-shadow-h)}
#work .ms .ms-card h3, #work .ms .card h3{font-size:clamp(1.05rem,2vw,1.25rem); margin-bottom:6px; color:var(--sage-700)}
#work .ms .ms-card .muted, #work .ms .card .muted{font-size:.95rem; margin-bottom:6px}
#work .ms .ms-card ul, #work .ms .card ul{margin-left:18px; display:grid; gap:4px}

/* push cards away from rail */
#work .ms:nth-child(odd)  .ms-card, #work .ms:nth-child(odd)  .card{grid-column:1/2; justify-self:end;  margin-right:clamp(40px,8vw,140px)}
#work .ms:nth-child(even) .ms-card, #work .ms:nth-child(even) .card{grid-column:3/4; justify-self:start; margin-left:clamp(40px,8vw,140px)}

/* responsive */
@media (max-width:920px){
  :root{--nav-h:64px}
  .topnav{gap:20px; padding:14px 18px; top:16px}
  .topnav a{font-size:.95rem; padding:7px 10px}
}
@media (max-width:900px){
  .bio .bio-inner{grid-template-columns:1fr; gap:clamp(18px,4vw,28px)}
  .bio-media{justify-self:center; width:min(78vw,520px)}
  .ball-wrap{position:relative; left:auto; bottom:auto; margin-top:16px; display:flex; justify-content:center}
  .basketball{width:min(66vw,360px)}
}
@media (max-width:820px){
  #work .band{padding-top:24px}
  #work .band .rail{left:12px; transform:none; width:2px; background:rgba(95,143,124,.35)}
  #work .milestones{gap:16px}
  #work .ms{grid-template-columns:24px 1fr; column-gap:12px}
  #work .ms .ms-dot,#work .ms .dot{
    grid-column:1; justify-self:center; align-self:start; width:12px; height:12px;
    box-shadow:0 0 0 3px rgba(95,143,124,.18),0 6px 18px rgba(0,0,0,.14)
  }
  #work .ms .ms-card,#work .ms .card{grid-column:2; justify-self:stretch; transform:none!important; margin:0; max-width:none}
}

/* sliding window for projects section */
.projects .proj-title{font-size:clamp(1.6rem,3.2vw,2.2rem);font-weight:800;color:var(--sage-700);margin:0 auto clamp(16px,2vw,22px);max-width:1200px;padding-inline:clamp(20px,6vw,80px)}
.proj-wrap{position:relative;max-width:1200px;width:min(96vw,1200px);margin:0 auto}
.proj-track{
  display:flex;gap:var(--gap);
  overflow:auto;scroll-snap-type:x mandatory;scrollbar-width:none;
  padding:6px clamp(20px,6vw,80px) 12px;
}
.proj-track::-webkit-scrollbar{display:none}
.proj-card{
  flex:0 0 auto;width:min(82vw,540px);
  scroll-snap-align:center;
  background:rgba(255,255,255,.85);backdrop-filter:blur(6px);
  border:1px solid rgba(95,143,124,.18);border-radius:16px;
  padding:16px 18px;box-shadow:0 18px 50px rgba(0,0,0,.08);
  transition:transform .15s ease, box-shadow .2s ease;
}
.proj-card:hover{transform:translateY(-2px) scale(1.01);box-shadow:0 24px 60px rgba(0,0,0,.12)}
.proj-card h3{color:var(--sage-700);font-size:clamp(1.05rem,2vw,1.25rem);margin-bottom:6px}
.proj-card ul{margin-left:18px;display:grid;gap:4px}
.proj-nav{pointer-events:none}
.proj-btn{
  pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);
  width:42px;height:42px;border-radius:999px;border:1px solid rgba(95,143,124,.25);
  background:rgba(255,255,255,.8);backdrop-filter:blur(8px);
  font-weight:800;line-height:1;color:var(--sage-700);cursor:pointer;
  box-shadow:0 8px 24px rgba(95,143,124,.18);display:grid;place-items:center;
}
.proj-btn:hover{background:rgba(255,255,255,.95)}
.proj-btn:disabled{opacity:.45;cursor:not-allowed}
.proj-btn.prev{left:clamp(8px,2.2vw,18px)}
.proj-btn.next{right:clamp(8px,2.2vw,18px)}
@media (max-width:820px){
  .proj-card{width:88vw}
  .proj-btn{width:38px;height:38px}
}

/* === Skills Panel (final) === */
/* palette for skills */
:root{
  --forest-900:#0d1713;
  --forest-880:#0a120f;
  --chip-bg:rgba(239,248,243,.06);
  --chip-brd:rgba(95,143,124,.22);
  --chip-fg:#eaf4ef;
}

/* panel shell */
section#skills.stack .stack{padding-block:clamp(40px,6vw,80px)}
section#skills.stack .stack-wrap{
  position:relative;max-width:1200px;width:min(96vw,1200px);margin:0 auto;
  color:var(--sage-10);
  background:
    radial-gradient(1100px 720px at 18% -8%, var(--forest-900), var(--forest-880)),
    linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
  border:1px solid rgba(95,143,124,.24);
  border-radius:24px; padding:clamp(20px,4vw,36px);
  box-shadow:0 24px 80px rgba(0,0,0,.25);
  overflow:hidden;
}

/* title + grid */
section#skills.stack .stack-title{
  font-size:clamp(1.8rem,4vw,3rem);font-weight:800;color:#f4fbf8;margin-bottom:clamp(14px,2vw,20px)
}
section#skills.stack .stack-grid{
  display:grid;grid-template-columns:200px 1fr;gap:clamp(12px,3vw,24px);align-items:start
}
section#skills.stack .stack-labels p{
  color:#c8d6d0;font-weight:700;letter-spacing:.25px;margin:clamp(10px,1.8vw,16px) 0
}
section#skills.stack .stack-groups{display:grid;gap:clamp(8px,1.4vw,14px)}
section#skills.stack .tags{display:flex;flex-wrap:wrap;gap:12px}

/* chips */
section#skills.stack .tag{
  display:inline-flex;align-items:center;gap:8px;
  padding:8px 14px;border-radius:9999px;
  background:var(--chip-bg);
  border:1px solid var(--chip-brd);
  color:var(--chip-fg);
  backdrop-filter:blur(8px);
  box-shadow:0 6px 18px rgba(95,143,124,.22) inset, 0 6px 18px rgba(0,0,0,.14);
  font-weight:600;font-size:.98rem;line-height:1;white-space:nowrap;
  transition:transform .12s ease, background .15s ease, box-shadow .2s ease;
}
section#skills.stack .tag:hover{
  transform:translateY(-2px);
  background:rgba(239,248,243,.12);
  box-shadow:0 10px 28px rgba(95,143,124,.28) inset, 0 10px 28px rgba(0,0,0,.22);
}
section#skills.stack .tag .ico{font-size:1rem;line-height:1}

/* responsive */
@media (max-width:920px){
  section#skills.stack .stack-grid{grid-template-columns:1fr}
  section#skills.stack .stack-labels{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:6px}
  section#skills.stack .stack-labels p{margin:0}
  section#skills.stack .stack-groups{margin-top:8px}
}
